[{"strategy": "retry", "code": "\npackage org.openapitools.openapidiff.core.utils;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.openapitools.openapidiff.core.model.ChangedOpenApi;\nimport org.openapitools.openapidiff.core.output.Render;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.nio.file.Paths;\n\nimport static org.mockito.Mockito.*;\n\nclass FileUtils_writeToFileTest {\n\n    @Test\n    void testWriteToFile_Success() throws IOException {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = \"testFile.txt\";\n\n        FileOutputStream fileOutputStream = mock(FileOutputStream.class);\n        OutputStreamWriter outputStreamWriter = mock(OutputStreamWriter.class);\n\n        when(fileOutputStream.getChannel()).thenReturn(null); // Mocking the channel to avoid actual file creation\n        when(fileOutputStream.getFD()).thenReturn(null); // Mocking the file descriptor to avoid actual file creation\n\n        // When\n        FileUtils.writeToFile(render, diff, fileName);\n\n        // Then\n        verify(render).render(eq(diff), any(OutputStreamWriter.class));\n    }\n\n    @Test\n    void testWriteToFile_IOException() throws IOException {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = \"testFile.txt\";\n\n        FileOutputStream fileOutputStream = mock(FileOutputStream.class);\n        OutputStreamWriter outputStreamWriter = mock(OutputStreamWriter.class);\n\n        when(fileOutputStream.getChannel()).thenReturn(null); // Mocking the channel to avoid actual file creation\n        when(fileOutputStream.getFD()).thenReturn(null); // Mocking the file descriptor to avoid actual file creation\n\n        doThrow(new IOException(\"Test Exception\")).when(fileOutputStream).close();\n\n        // When\n        FileUtils.writeToFile(render, diff, fileName);\n\n        // Then\n        verify(render, never()).render(any(), any());\n    }\n\n    @Test\n    void testWriteToFile_NullOrEmptyFileName() {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = \"\";\n\n        // When\n        FileUtils.writeToFile(render, diff, fileName);\n\n        // Then\n        verify(render, never()).render(any(), any());\n    }\n}\n"}]