[{"strategy": "retry", "code": "\npackage net.hydromatic.morel.type;\n\nimport net.hydromatic.morel.ast.CoreBuilder;\nimport net.hydromatic.morel.eval.Codes;\nimport net.hydromatic.morel.util.ComparableSingletonList;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.*;\n\npublic class TypeSystem_bindTyConTest {\n\n    @Test\n    public void testBindTyCon_DummyType() {\n        // Given\n        TypeSystem typeSystem = new TypeSystem();\n        DataType dataType = mock(DataType.class);\n        java.util.Map<String, Type> mockMap = mock(java.util.Map.class);\n        when(dataType.typeConstructors(typeSystem)).thenReturn(mockMap);\n        when(mockMap.get(\"tyConName\")).thenReturn(DummyType.INSTANCE);\n\n        // When\n        Binding result = typeSystem.bindTyCon(dataType, \"tyConName\");\n\n        // Then\n        Binding expected = Binding.of(CoreBuilder.core.idPat(dataType, \"tyConName\", 0),\n                Codes.constant(ComparableSingletonList.of(\"tyConName\")));\n        assertEquals(expected.id, result.id);\n        assertEquals(expected.value, result.value);\n    }\n\n    @Test\n    public void testBindTyCon_NonDummyType() {\n        // Given\n        TypeSystem typeSystem = new TypeSystem();\n        DataType dataType = mock(DataType.class);\n        Type mockType = mock(Type.class);\n        java.util.Map<String, Type> mockMap = mock(java.util.Map.class);\n        when(dataType.typeConstructors(typeSystem)).thenReturn(mockMap);\n        when(mockMap.get(\"tyConName\")).thenReturn(mockType);\n        when(typeSystem.wrap(dataType, any(Type.class))).thenReturn(mockType);\n\n        // When\n        Binding result = typeSystem.bindTyCon(dataType, \"tyConName\");\n\n        // Then\n        Binding expected = Binding.of(CoreBuilder.core.idPat(mockType, \"tyConName\", 0),\n                Codes.tyCon(dataType, \"tyConName\"));\n        assertEquals(expected.id, result.id);\n        assertEquals(expected.value, result.value);\n    }\n}\n"}]