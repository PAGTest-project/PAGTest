[{"strategy": "retry", "code": "\npackage org.jsoup.internal;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport java.util.Stack;\nimport java.util.function.Supplier;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class SoftPool_releaseTest {\n    private static final int BufSize = 1024;\n    private SoftPool<char[]> softPool;\n\n    @BeforeEach\n    public void setUp() {\n        softPool = new SoftPool<>(() -> new char[BufSize]);\n    }\n\n    @Test\n    public void testReleaseWhenStackIsNotFull() {\n        char[] value = new char[BufSize];\n        softPool.release(value);\n        Stack<char[]> stack = softPool.getStack();\n        assertEquals(1, stack.size());\n        assertSame(value, stack.peek());\n    }\n\n    @Test\n    public void testReleaseWhenStackIsFull() {\n        Stack<char[]> stack = softPool.getStack();\n        for (int i = 0; i < SoftPool.MaxIdle; i++) {\n            stack.push(new char[BufSize]);\n        }\n        char[] value = new char[BufSize];\n        softPool.release(value);\n        assertEquals(SoftPool.MaxIdle, stack.size());\n        assertNotSame(value, stack.peek());\n    }\n\n    @Test\n    public void testReleaseAfterBorrow() {\n        char[] borrowedValue = softPool.borrow();\n        assertNotNull(borrowedValue);\n        softPool.release(borrowedValue);\n        Stack<char[]> stack = softPool.getStack();\n        assertEquals(1, stack.size());\n        assertSame(borrowedValue, stack.peek());\n    }\n}\n"}]