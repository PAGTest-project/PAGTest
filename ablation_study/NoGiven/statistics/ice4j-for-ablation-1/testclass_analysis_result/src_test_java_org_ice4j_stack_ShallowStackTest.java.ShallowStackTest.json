{"file_path": "src/test/java/org/ice4j/stack/ShallowStackTest.java", "testclass_name": "ShallowStackTest", "dependencies": [" package org.ice4j.stack;", "import java.net.*;", "import java.util.concurrent.*;", "import java.util.logging.*;", "import static org.junit.jupiter.api.Assertions.*;", "import org.ice4j.*;", "import org.ice4j.message.*;", "import org.ice4j.socket.*;", "import org.jitsi.config.*;", "import org.junit.jupiter.api.*;"], "name": "ShallowStackTest", "description": "Unit tests for the ShallowStack functionality, including sending and receiving STUN requests and responses.", "class_members": {"variables": [{"name": "logger", "type": "static final Logger"}, {"name": "stunStack", "type": "StunStack"}, {"name": "msgFixture", "type": "MsgFixture"}, {"name": "dummyServerAddress", "type": "TransportAddress"}, {"name": "localAddress", "type": "TransportAddress"}, {"name": "dgramCollector", "type": "final DatagramCollector"}, {"name": "localSock", "type": "IceSocketWrapper"}, {"name": "dummyServerSocket", "type": "DatagramSocket"}], "methods": [{"name": "setUp", "signature": "void setUp() throws Exception"}, {"name": "tearDown", "signature": "void tearDown() throws Exception"}], "nested_classes": [{"name": "SimpleResponseCollector", "description": "A utility class for asynchronously collecting responses."}, {"name": "SimpleRequestCollector", "description": "A utility class for asynchronously collecting requests."}]}, "fixtures": ["setupConfig", "resetConfig", "setUp", "tearDown"], "test_cases": [{"name": "testSendRequest", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "DatagramCollector", "Request", "SimpleResponseCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a binding request using the stack to a bare socket and verifies its reception and content."}, {"name": "testReceiveRequest", "primary_tested": ["StunStack.addRequestListener(RequestListener)"], "external_dependencies": {"modules": ["StunStack", "SimpleRequestCollector", "DatagramSocket", "Request"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "msgFixture", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a byte array containing a binding request through a datagram socket and verifies that the stack receives it."}, {"name": "testSendResponse", "primary_tested": ["StunStack.sendResponse(byte[],Response,TransportAddress,TransportAddress)"], "associated_methods": ["StunStack.addRequestListener(RequestListener)"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "SimpleRequestCollector", "DatagramSocket", "Request", "Response", "DatagramCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "msgFixture", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a byte array containing a binding request, verifies its reception, and then sends a response using the stack, verifying its reception."}, {"name": "testReceiveResponse", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "SimpleResponseCollector", "DatagramSocket", "Request", "Response"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "msgFixture", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a binding request, creating a response, and verifying its reception."}, {"name": "testRetransmissionOriginalWait", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "DatagramCollector", "Request", "SimpleResponseCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests the retransmission mechanism by setting a custom retransmission wait time and verifying it."}]}