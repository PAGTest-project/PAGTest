[{"strategy": "retry", "code": "\npackage net.datafaker.service;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.stream.Collectors;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class FakeValuesService_fileExpressionTest {\n\n    private FakeValuesService fakeValuesService;\n    private FakerContext context;\n    private BaseFaker faker;\n\n    @BeforeEach\n    public void setUp() {\n        context = new FakerContext(Locale.ENGLISH, new RandomService());\n        fakeValuesService = new FakeValuesService(context);\n        faker = new BaseFaker(fakeValuesService, context);\n    }\n\n    @Test\n    void testFileExpressionSuccess() throws IOException {\n        Path tempFile = Files.createTempFile(\"test\", \".txt\");\n        Files.write(tempFile, List.of(\"line1\", \"line2\", \"line3\"));\n\n        String result = fakeValuesService.fileExpression(tempFile, faker, context);\n        String expected = \"line1\" + System.lineSeparator() + \"line2\" + System.lineSeparator() + \"line3\";\n\n        assertEquals(expected, result);\n    }\n\n    @Test\n    void testFileExpressionFileNotFound() {\n        Path nonExistentFile = Path.of(\"nonExistentFile.txt\");\n\n        RuntimeException exception = assertThrows(RuntimeException.class, () -> {\n            fakeValuesService.fileExpression(nonExistentFile, faker, context);\n        });\n\n        assertEquals(\"Failed to read \\\"nonExistentFile.txt\\\"\", exception.getMessage());\n    }\n\n    @Test\n    void testFileExpressionEmptyFile() throws IOException {\n        Path tempFile = Files.createTempFile(\"test\", \".txt\");\n\n        String result = fakeValuesService.fileExpression(tempFile, faker, context);\n\n        assertEquals(\"\", result);\n    }\n}\n"}]