[{"strategy": "retry", "code": "\npackage com.github.davidmoten.rtree.internal.operators;\n\nimport com.github.davidmoten.rtree.internal.util.BoundedPriorityQueue;\nimport org.junit.Test;\nimport rx.Subscriber;\nimport rx.observers.TestSubscriber;\n\nimport java.util.Comparator;\n\nimport static org.mockito.Mockito.*;\n\npublic class OperatorBoundedPriorityQueue_callTest {\n\n    @Test\n    public void testCall() {\n        // Given\n        int maximumSize = 5;\n        Comparator<Integer> comparator = Comparator.naturalOrder();\n        OperatorBoundedPriorityQueue<Integer> operator = new OperatorBoundedPriorityQueue<>(maximumSize, comparator);\n        TestSubscriber<Integer> child = new TestSubscriber<>();\n\n        // When\n        Subscriber<? super Integer> result = operator.call(child);\n\n        // Then\n        result.onNext(1);\n        result.onNext(2);\n        result.onCompleted();\n\n        child.assertValues(1, 2);\n        child.assertCompleted();\n    }\n\n    @Test\n    public void testCallWithUnsubscription() {\n        // Given\n        int maximumSize = 5;\n        Comparator<Integer> comparator = Comparator.naturalOrder();\n        OperatorBoundedPriorityQueue<Integer> operator = new OperatorBoundedPriorityQueue<>(maximumSize, comparator);\n        TestSubscriber<Integer> child = new TestSubscriber<>();\n\n        // When\n        Subscriber<? super Integer> result = operator.call(child);\n        result.onNext(1);\n        result.onNext(2);\n        result.unsubscribe();\n        result.onCompleted();\n\n        // Then\n        child.assertValues(1, 2);\n        child.assertNotCompleted();\n    }\n\n    @Test\n    public void testCallWithError() {\n        // Given\n        int maximumSize = 5;\n        Comparator<Integer> comparator = Comparator.naturalOrder();\n        OperatorBoundedPriorityQueue<Integer> operator = new OperatorBoundedPriorityQueue<>(maximumSize, comparator);\n        TestSubscriber<Integer> child = new TestSubscriber<>();\n\n        // When\n        Subscriber<? super Integer> result = operator.call(child);\n        result.onNext(1);\n        result.onError(new RuntimeException(\"Test error\"));\n\n        // Then\n        child.assertValue(1);\n        child.assertError(RuntimeException.class);\n    }\n}\n"}]