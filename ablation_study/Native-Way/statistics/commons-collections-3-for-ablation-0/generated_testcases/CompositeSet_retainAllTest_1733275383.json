[{"strategy": "generate", "code": "\npackage org.apache.commons.collections4.set;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertFalse;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class CompositeSet_retainAllTest {\n\n    private CompositeSet<String> compositeSet;\n    private Set<String> set1;\n    private Set<String> set2;\n\n    @BeforeEach\n    public void setUp() {\n        set1 = new HashSet<>();\n        set1.add(\"1\");\n        set1.add(\"2\");\n\n        set2 = new HashSet<>();\n        set2.add(\"3\");\n        set2.add(\"4\");\n\n        compositeSet = new CompositeSet<>(set1, set2);\n    }\n\n    @Test\n    public void testRetainAll_NoChange() {\n        Set<String> retainSet = new HashSet<>();\n        retainSet.add(\"5\");\n        retainSet.add(\"6\");\n\n        boolean changed = compositeSet.retainAll(retainSet);\n\n        assertFalse(changed);\n        assertEquals(4, compositeSet.size());\n        assertTrue(compositeSet.contains(\"1\"));\n        assertTrue(compositeSet.contains(\"2\"));\n        assertTrue(compositeSet.contains(\"3\"));\n        assertTrue(compositeSet.contains(\"4\"));\n    }\n\n    @Test\n    public void testRetainAll_WithChange() {\n        Set<String> retainSet = new HashSet<>();\n        retainSet.add(\"2\");\n        retainSet.add(\"3\");\n\n        boolean changed = compositeSet.retainAll(retainSet);\n\n        assertTrue(changed);\n        assertEquals(2, compositeSet.size());\n        assertTrue(compositeSet.contains(\"2\"));\n        assertTrue(compositeSet.contains(\"3\"));\n        assertFalse(compositeSet.contains(\"1\"));\n        assertFalse(compositeSet.contains(\"4\"));\n    }\n\n    @Test\n    public void testRetainAll_EmptyCollection() {\n        Set<String> retainSet = new HashSet<>();\n\n        boolean changed = compositeSet.retainAll(retainSet);\n\n        assertTrue(changed);\n        assertEquals(0, compositeSet.size());\n    }\n\n    @Test\n    public void testRetainAll_NullCollection() {\n        boolean changed = compositeSet.retainAll(null);\n\n        assertFalse(changed);\n        assertEquals(4, compositeSet.size());\n        assertTrue(compositeSet.contains(\"1\"));\n        assertTrue(compositeSet.contains(\"2\"));\n        assertTrue(compositeSet.contains(\"3\"));\n        assertTrue(compositeSet.contains(\"4\"));\n    }\n}\n"}]