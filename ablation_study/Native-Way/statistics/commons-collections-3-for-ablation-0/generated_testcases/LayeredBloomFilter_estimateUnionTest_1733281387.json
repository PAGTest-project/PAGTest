[{"strategy": "generate", "code": "\npackage org.apache.commons.collections4.bloomfilter;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class LayeredBloomFilter_estimateUnionTest {\n    private LayeredBloomFilter<BloomFilter> filter;\n    private BloomFilter otherFilter;\n\n    @BeforeEach\n    public void setUp() {\n        filter = new LayeredBloomFilter<>(new SimpleShape(10, 5), new SimpleLayerManager<>(new SimpleBloomFilter(new SimpleShape(10, 5))));\n        otherFilter = new SimpleBloomFilter(new SimpleShape(10, 5));\n    }\n\n    @Test\n    public void testEstimateUnion() {\n        filter.merge(TestingHashers.FROM1);\n        otherFilter.merge(TestingHashers.FROM11);\n        int expectedUnionEstimate = filter.flatten().estimateN() + otherFilter.estimateN();\n        assertEquals(expectedUnionEstimate, filter.estimateUnion(otherFilter));\n    }\n\n    @Test\n    public void testEstimateUnionWithNull() {\n        assertThrows(NullPointerException.class, () -> filter.estimateUnion(null));\n    }\n}\n"}]