[{"strategy": "generate", "code": "\npackage org.apache.commons.validator.routines;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertNull;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport org.apache.commons.validator.routines.IBANValidator.Validator;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\npublic class IBANValidator_setValidatorTest {\n\n    private IBANValidator validator;\n\n    @BeforeEach\n    public void setUp() {\n        validator = new IBANValidator();\n    }\n\n    @Test\n    public void testSetValidatorSingletonModification() {\n        assertThrows(IllegalStateException.class, () -> {\n            IBANValidator.DEFAULT_IBAN_VALIDATOR.setValidator(\"DE\", 22, \"DE\\\\d{20}\");\n        });\n    }\n\n    @Test\n    public void testSetValidatorValid() {\n        Validator result = validator.setValidator(\"DE\", 22, \"DE\\\\d{20}\");\n        assertNull(result);\n        Validator newValidator = validator.getValidator(\"DE\");\n        assertNotNull(newValidator);\n        assertEquals(22, newValidator.getIbanLength());\n    }\n\n    @Test\n    public void testSetValidatorRemove() {\n        validator.setValidator(\"DE\", 22, \"DE\\\\d{20}\");\n        Validator result = validator.setValidator(\"DE\", -1, null);\n        assertNotNull(result);\n        Validator removedValidator = validator.getValidator(\"DE\");\n        assertNull(removedValidator);\n    }\n\n    @Test\n    public void testSetValidatorInvalidLength() {\n        assertThrows(IllegalArgumentException.class, () -> {\n            validator.setValidator(\"DE\", 35, \"DE\\\\d{20}\");\n        });\n    }\n\n    @Test\n    public void testSetValidatorInvalidCountryCode() {\n        assertThrows(IllegalArgumentException.class, () -> {\n            validator.setValidator(\"D\", 22, \"D\\\\d{20}\");\n        });\n    }\n\n    @Test\n    public void testSetValidatorInvalidFormat() {\n        assertThrows(IllegalArgumentException.class, () -> {\n            validator.setValidator(\"DE\", 22, \"D\\\\d{20}\");\n        });\n    }\n}\n"}]