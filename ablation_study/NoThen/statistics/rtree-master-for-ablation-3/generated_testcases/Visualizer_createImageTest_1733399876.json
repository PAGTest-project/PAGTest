[{"strategy": "retry", "code": "\npackage com.github.davidmoten.rtree;\n\nimport org.junit.Test;\nimport java.awt.image.BufferedImage;\nimport java.util.Optional;\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.*;\n\npublic class Visualizer_createImageTest {\n\n    @Test\n    public void testCreateImageWithRootPresent() {\n        // Given\n        RTree<?, Geometry> mockTree = mock(RTree.class);\n        Node<?, Geometry> mockNode = mock(Node.class);\n        when(mockTree.root()).thenReturn(Optional.of(mockNode));\n\n        Visualizer visualizer = new Visualizer(mockTree, 100, 100, mock(Rectangle.class));\n\n        // When\n        BufferedImage image = visualizer.createImage();\n\n        // Then\n        assertNotNull(image);\n    }\n\n    @Test\n    public void testCreateImageWithRootNotPresent() {\n        // Given\n        RTree<?, Geometry> mockTree = mock(RTree.class);\n        when(mockTree.root()).thenReturn(Optional.empty());\n\n        Visualizer visualizer = new Visualizer(mockTree, 100, 100, mock(Rectangle.class));\n\n        // When\n        BufferedImage image = visualizer.createImage();\n\n        // Then\n        assertNotNull(image);\n    }\n}\n"}]