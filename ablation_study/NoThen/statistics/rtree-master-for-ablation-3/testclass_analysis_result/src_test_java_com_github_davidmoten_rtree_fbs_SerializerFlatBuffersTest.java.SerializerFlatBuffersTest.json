{"file_path": "src/test/java/com/github/davidmoten/rtree/fbs/SerializerFlatBuffersTest.java", "testclass_name": "SerializerFlatBuffersTest", "dependencies": ["package com.github.davidmoten.rtree.fbs;", "import static org.junit.Assert.assertEquals;", "import java.io.ByteArrayInputStream;", "import java.io.File;", "import java.io.FileInputStream;", "import java.io.FileOutputStream;", "import java.io.IOException;", "import java.io.InputStream;", "import org.junit.Test;", "import com.github.davidmoten.rtree.Entry;", "import com.github.davidmoten.rtree.GreekEarthquakes;", "import com.github.davidmoten.rtree.InternalStructure;", "import com.github.davidmoten.rtree.Precision;", "import com.github.davidmoten.rtree.RTree;", "import com.github.davidmoten.rtree.Serializer;", "import com.github.davidmoten.rtree.geometry.Geometries;", "import com.github.davidmoten.rtree.geometry.Point;", "import rx.Observable;", "import rx.functions.Func1;"], "name": "SerializerFlatBuffersTest", "description": "Tests for the SerializerFlatBuffers class, focusing on serialization and deserialization of RTree objects using FlatBuffers.", "class_members": {"variables": [{"name": "EMPTY", "type": "static final byte[]"}], "methods": [{"name": "roundTrip", "signature": "void roundTrip(InternalStructure structure, boolean backpressure) throws Exception"}, {"name": "createSerializer", "signature": "static Serializer<Object, Point> createSerializer()"}, {"name": "serialize", "signature": "static void serialize(RTree<Object, Point> tree, long t, File file, FileOutputStream os, Serializer<Object, Point> fbSerializer) throws IOException"}, {"name": "deserialize", "signature": "static void deserialize(InternalStructure structure, File file, Serializer<Object, Point> fbSerializer, boolean backpressure) throws Exception"}]}, "fixtures": [], "test_cases": [{"name": "testSerializeRoundTripToFlatBuffersSingleArray", "primary_tested": ["Serializer.write(RTree<Object, Point>, FileOutputStream)", "Serializer.read(InputStream, int, InternalStructure)"], "associated_methods": ["RTree.add(Iterable<Entry<Object, Point>>)", "RTree.search(Rectangle)"], "external_dependencies": {"modules": ["RTree", "GreekEarthquakes", "InternalStructure", "Precision", "Serializer", "Geometries", "File", "FileOutputStream", "FileInputStream", "InputStream"], "class_members": [{"name": "roundTrip", "type": "method"}, {"name": "createSerializer", "type": "method"}, {"name": "serialize", "type": "method"}, {"name": "deserialize", "type": "method"}]}, "category": "integration", "description": "Tests the serialization and deserialization of an RTree with a single array internal structure."}, {"name": "testSerializeRoundTripToDefaultStructure", "primary_tested": ["Serializer.write(RTree<Object, Point>, FileOutputStream)", "Serializer.read(InputStream, int, InternalStructure)"], "associated_methods": ["RTree.add(Iterable<Entry<Object, Point>>)", "RTree.search(Rectangle)"], "external_dependencies": {"modules": ["RTree", "GreekEarthquakes", "InternalStructure", "Precision", "Serializer", "Geometries", "File", "FileOutputStream", "FileInputStream", "InputStream"], "class_members": [{"name": "roundTrip", "type": "method"}, {"name": "createSerializer", "type": "method"}, {"name": "serialize", "type": "method"}, {"name": "deserialize", "type": "method"}]}, "category": "integration", "description": "Tests the serialization and deserialization of an RTree with the default internal structure."}, {"name": "testSerializeRoundTripToFlatBuffersSingleArrayBackpressure", "primary_tested": ["Serializer.write(RTree<Object, Point>, FileOutputStream)", "Serializer.read(InputStream, int, InternalStructure)"], "associated_methods": ["RTree.add(Iterable<Entry<Object, Point>>)", "RTree.search(Rectangle)"], "external_dependencies": {"modules": ["RTree", "GreekEarthquakes", "InternalStructure", "Precision", "Serializer", "Geometries", "File", "FileOutputStream", "FileInputStream", "InputStream"], "class_members": [{"name": "roundTrip", "type": "method"}, {"name": "createSerializer", "type": "method"}, {"name": "serialize", "type": "method"}, {"name": "deserialize", "type": "method"}]}, "category": "integration", "description": "Tests the serialization and deserialization of an RTree with a single array internal structure under backpressure conditions."}, {"name": "testSerializeRoundTripToDefaultStructureBackpressure", "primary_tested": ["Serializer.write(RTree<Object, Point>, FileOutputStream)", "Serializer.read(InputStream, int, InternalStructure)"], "associated_methods": ["RTree.add(Iterable<Entry<Object, Point>>)", "RTree.search(Rectangle)"], "external_dependencies": {"modules": ["RTree", "GreekEarthquakes", "InternalStructure", "Precision", "Serializer", "Geometries", "File", "FileOutputStream", "FileInputStream", "InputStream"], "class_members": [{"name": "roundTrip", "type": "method"}, {"name": "createSerializer", "type": "method"}, {"name": "serialize", "type": "method"}, {"name": "deserialize", "type": "method"}]}, "category": "integration", "description": "Tests the serialization and deserialization of an RTree with the default internal structure under backpressure conditions."}, {"name": "testInputStreamNotAsLongAsExpected", "primary_tested": ["SerializerFlatBuffers.readFully(InputStream, int)"], "external_dependencies": {"modules": ["ByteArrayInputStream", "IOException"]}, "category": "unit", "description": "Tests that a RuntimeException is thrown when the InputStream does not provide the expected number of bytes."}, {"name": "testInputStreamReturnsArrayInSmallChunks", "primary_tested": ["SerializerFlatBuffers.readFully(InputStream, int)"], "external_dependencies": {"modules": ["IOException"]}, "category": "unit", "description": "Tests that the InputStream returns an array in small chunks and verifies the length and content of the returned array."}]}