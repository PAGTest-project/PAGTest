[{"strategy": "generate", "code": "\npackage org.apache.commons.collections4;\n\nimport org.apache.commons.collections4.functors.NOPClosure;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.Iterator;\nimport java.util.NoSuchElementException;\n\nimport static org.junit.jupiter.api.Assertions.assertThrows;\nimport static org.mockito.Mockito.*;\n\npublic class IteratorUtils_forEachTest {\n\n    @Test\n    public void testForEach_NullIterator() {\n        Closure<Object> closure = NOPClosure.nopClosure();\n        IteratorUtils.forEach(null, closure);\n        // No exception should be thrown\n    }\n\n    @Test\n    public void testForEach_NonNullIterator() {\n        Iterator<String> iterator = mock(Iterator.class);\n        Closure<String> closure = mock(Closure.class);\n\n        when(iterator.hasNext()).thenReturn(true, false);\n        when(iterator.next()).thenReturn(\"test\");\n\n        IteratorUtils.forEach(iterator, closure);\n\n        verify(closure, times(1)).accept(\"test\");\n    }\n\n    @Test\n    public void testForEach_NullClosure() {\n        Iterator<String> iterator = mock(Iterator.class);\n        assertThrows(NullPointerException.class, () -> {\n            IteratorUtils.forEach(iterator, null);\n        });\n    }\n\n    @Test\n    public void testForEach_IteratorThrowsException() {\n        Iterator<String> iterator = mock(Iterator.class);\n        Closure<String> closure = mock(Closure.class);\n\n        when(iterator.hasNext()).thenReturn(true);\n        when(iterator.next()).thenThrow(new NoSuchElementException());\n\n        assertThrows(NoSuchElementException.class, () -> {\n            IteratorUtils.forEach(iterator, closure);\n        });\n    }\n}\n"}]