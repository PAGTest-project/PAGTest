[{"strategy": "retry", "code": "\npackage org.apache.commons.validator.routines;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class ISINValidator_isValidTest {\n\n    private ISINValidator validatorTrue;\n    private ISINValidator validatorFalse;\n\n    @BeforeEach\n    public void setUp() {\n        validatorTrue = ISINValidator.getInstance(true);\n        validatorFalse = ISINValidator.getInstance(false);\n    }\n\n    @Test\n    public void testIsValidWithCountryCodeCheck() {\n        // Valid ISIN with valid country code\n        assertTrue(validatorTrue.isValid(\"US0378331005\"));\n        // Valid ISIN with invalid country code\n        assertFalse(validatorTrue.isValid(\"ZZ0378331005\"));\n    }\n\n    @Test\n    public void testIsValidWithoutCountryCodeCheck() {\n        // Valid ISIN with valid country code\n        assertTrue(validatorFalse.isValid(\"US0378331005\"));\n        // Valid ISIN with invalid country code\n        assertTrue(validatorFalse.isValid(\"ZZ0378331005\"));\n    }\n\n    @Test\n    public void testIsValidInvalidISIN() {\n        // Invalid ISIN format\n        assertFalse(validatorTrue.isValid(\"INVALIDISIN\"));\n        assertFalse(validatorFalse.isValid(\"INVALIDISIN\"));\n    }\n}\n"}]