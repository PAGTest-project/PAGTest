[{"strategy": "retry", "code": "\npackage org.apache.commons.validator.util;\n\nimport org.apache.commons.beanutils.PropertyUtils;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\n\nimport java.util.Collection;\nimport java.util.Collections;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNull;\nimport static org.mockito.Mockito.when;\n\npublic class ValidatorUtils_getValueAsStringTest {\n\n    public static class TestBean {\n        private String someProperty;\n        private String[] somePropertyArray;\n        private Collection<String> somePropertyCollection;\n\n        public String getSomeProperty() {\n            return someProperty;\n        }\n\n        public void setSomeProperty(String someProperty) {\n            this.someProperty = someProperty;\n        }\n\n        public String[] getSomePropertyArray() {\n            return somePropertyArray;\n        }\n\n        public void setSomePropertyArray(String[] somePropertyArray) {\n            this.somePropertyArray = somePropertyArray;\n        }\n\n        public Collection<String> getSomePropertyCollection() {\n            return somePropertyCollection;\n        }\n\n        public void setSomePropertyCollection(Collection<String> somePropertyCollection) {\n            this.somePropertyCollection = somePropertyCollection;\n        }\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyFound_String() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"someProperty\";\n        String expectedValue = \"someValue\";\n\n        bean.setSomeProperty(expectedValue);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertEquals(expectedValue, result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyFound_StringArray() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"somePropertyArray\";\n        String[] expectedValue = {\"value1\", \"value2\"};\n\n        bean.setSomePropertyArray(expectedValue);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertEquals(expectedValue.toString(), result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyFound_EmptyStringArray() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"somePropertyArray\";\n        String[] expectedValue = {};\n\n        bean.setSomePropertyArray(expectedValue);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertEquals(\"\", result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyFound_Collection() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"somePropertyCollection\";\n        Collection<String> expectedValue = Collections.singletonList(\"value1\");\n\n        bean.setSomePropertyCollection(expectedValue);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertEquals(expectedValue.toString(), result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyFound_EmptyCollection() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"somePropertyCollection\";\n        Collection<String> expectedValue = Collections.emptyList();\n\n        bean.setSomePropertyCollection(expectedValue);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertEquals(\"\", result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyNotFound() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"nonExistentProperty\";\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertNull(result);\n    }\n\n    @Test\n    public void testGetValueAsString_PropertyIsNull() throws Exception {\n        TestBean bean = new TestBean();\n        String property = \"someProperty\";\n\n        bean.setSomeProperty(null);\n\n        String result = ValidatorUtils.getValueAsString(bean, property);\n\n        assertNull(result);\n    }\n}\n"}]