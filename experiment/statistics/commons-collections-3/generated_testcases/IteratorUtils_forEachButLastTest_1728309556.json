[{"strategy": "retry", "code": "\npackage org.apache.commons.collections4;\n\nimport org.junit.jupiter.api.Test;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport static org.junit.jupiter.api.Assertions.*;\n\nclass IteratorUtils_forEachButLastTest {\n\n    @Test\n    void testForEachButLast_WithMultipleElements() {\n        Iterator<String> iterator = Arrays.asList(\"a\", \"b\", \"c\").iterator();\n        Closure<String> closure = element -> {\n            // No-op closure\n        };\n\n        String result = IteratorUtils.forEachButLast(iterator, closure);\n        assertEquals(\"c\", result);\n    }\n\n    @Test\n    void testForEachButLast_WithSingleElement() {\n        Iterator<String> iterator = Arrays.asList(\"a\").iterator();\n        Closure<String> closure = element -> {\n            // No-op closure\n        };\n\n        String result = IteratorUtils.forEachButLast(iterator, closure);\n        assertEquals(\"a\", result);\n    }\n\n    @Test\n    void testForEachButLast_WithEmptyIterator() {\n        Iterator<String> iterator = Arrays.asList().iterator();\n        Closure<String> closure = element -> {\n            // No-op closure\n        };\n\n        String result = IteratorUtils.forEachButLast(iterator, closure);\n        assertNull(result);\n    }\n\n    @Test\n    void testForEachButLast_WithNullIterator() {\n        Closure<String> closure = element -> {\n            // No-op closure\n        };\n\n        String result = IteratorUtils.forEachButLast(null, closure);\n        assertNull(result);\n    }\n\n    @Test\n    void testForEachButLast_WithNullClosure() {\n        Iterator<String> iterator = Arrays.asList(\"a\", \"b\", \"c\").iterator();\n        assertThrows(NullPointerException.class, () -> {\n            IteratorUtils.forEachButLast(iterator, null);\n        });\n    }\n}\n"}]