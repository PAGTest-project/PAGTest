{"file_path": "src/test/java/org/apache/commons/collections4/bloomfilter/LayerManagerTest.java", "testclass_name": "LayerManagerTest", "dependencies": ["package org.apache.commons.collections4.bloomfilter;", "import static org.junit.jupiter.api.Assertions.assertArrayEquals;", "import static org.junit.jupiter.api.Assertions.assertEquals;", "import static org.junit.jupiter.api.Assertions.assertFalse;", "import static org.junit.jupiter.api.Assertions.assertNotEquals;", "import static org.junit.jupiter.api.Assertions.assertNotSame;", "import static org.junit.jupiter.api.Assertions.assertSame;", "import static org.junit.jupiter.api.Assertions.assertThrows;", "import static org.junit.jupiter.api.Assertions.assertTrue;", "import java.util.ArrayList;", "import java.util.Arrays;", "import java.util.Deque;", "import java.util.LinkedList;", "import java.util.List;", "import java.util.NoSuchElementException;", "import java.util.function.Consumer;", "import java.util.function.Predicate;", "import org.junit.jupiter.api.Test;", "import org.junit.jupiter.params.ParameterizedTest;", "import org.junit.jupiter.params.provider.ValueSource;"], "name": "LayerManagerTest", "description": "Unit tests for the LayerManager class, focusing on various functionalities such as advancing on count, saturation, builder configuration, clearing, copying, iteration, depth management, and cleanup strategies.", "class_members": {"variables": [{"name": "shape", "type": "Shape"}], "methods": [{"name": "testingBuilder", "signature": "LayerManager.Builder<BloomFilter> testingBuilder()"}]}, "fixtures": [], "test_cases": [{"name": "testAdvanceOnCount", "primary_tested": ["LayerManager.ExtendCheck.advanceOnCount(int)"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "Predicate", "TestingHashers"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the advanceOnCount method of LayerManager.ExtendCheck, verifying that it advances correctly based on the count of merges."}, {"name": "testAdvanceOnCountInvalidArguments", "primary_tested": ["LayerManager.ExtendCheck.advanceOnCount(int)"], "external_dependencies": {"modules": ["LayerManager", "IllegalArgumentException"]}, "category": "unit", "description": "Tests the advanceOnCount method of LayerManager.ExtendCheck for invalid arguments, expecting IllegalArgumentException."}, {"name": "testAdvanceOnPopulated", "primary_tested": ["LayerManager.ExtendCheck.advanceOnPopulated()"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "Predicate", "TestingHashers"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the advanceOnPopulated method of LayerManager.ExtendCheck, verifying that it advances correctly when the BloomFilter is populated."}, {"name": "testAdvanceOnSaturation", "primary_tested": ["LayerManager.ExtendCheck.advanceOnSaturation(double)"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)", "Shape.estimateMaxN()", "Shape.estimateN(int)", "BloomFilter.cardinality()"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "Predicate", "Shape", "IncrementingHasher", "IllegalArgumentException"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the advanceOnSaturation method of LayerManager.ExtendCheck, verifying that it advances correctly when the BloomFilter reaches saturation."}, {"name": "testBuilder", "primary_tested": ["LayerManager.builder()"], "associated_methods": ["LayerManager.Builder.get()", "LayerManager.Builder.setSupplier(Supplier<BloomFilter>)", "LayerManager.Builder.setCleanup(Consumer<Deque<BloomFilter>>)", "LayerManager.Builder.setExtendCheck(Predicate<LayerManager<BloomFilter>>)"], "external_dependencies": {"modules": ["LayerManager", "NullPointerException"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the builder method of LayerManager, verifying that it correctly handles null checks and configuration."}, {"name": "testClear", "primary_tested": ["LayerManager.clear()"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)", "LayerManager.next()", "LayerManager.getDepth()", "BloomFilter.cardinality()"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "TestingHashers"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the clear method of LayerManager, verifying that it resets the depth and clears the target BloomFilter."}, {"name": "testCopy", "primary_tested": ["LayerManager.copy()"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)", "LayerManager.next()", "LayerManager.getDepth()", "LayerManager.processBloomFilterPair(LayerManager<BloomFilter>, BiPredicate<BloomFilter, BloomFilter>)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "TestingHashers", "Arrays"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the copy method of LayerManager, verifying that it creates a deep copy of the LayerManager."}, {"name": "testForEachBloomFilter", "primary_tested": ["LayerManager.processBloomFilters(Consumer<BloomFilter>)"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(BloomFilter)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "TestingHashers", "ArrayList", "Arrays"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the processBloomFilters method of LayerManager, verifying that it correctly processes each BloomFilter in the LayerManager."}, {"name": "testGet", "primary_tested": ["LayerManager.get(int)"], "associated_methods": ["LayerManager.getDepth()"], "external_dependencies": {"modules": ["LayerManager", "SimpleBloomFilter", "NoSuchElementException"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the get method of LayerManager, verifying that it correctly retrieves the BloomFilter at the specified index."}, {"name": "testNeverAdvance", "primary_tested": ["LayerManager.ExtendCheck.neverAdvance()"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "Predicate", "TestingHashers"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the neverAdvance method of LayerManager.ExtendCheck, verifying that it never advances regardless of the state of the BloomFilter."}, {"name": "testNextAndGetDepth", "primary_tested": ["LayerManager.next()", "LayerManager.getDepth()"], "associated_methods": ["LayerManager.getTarget()", "BloomFilter.merge(Hasher)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "TestingHashers"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the next and getDepth methods of LayerManager, verifying that it correctly increments the depth and retrieves the current depth."}, {"name": "testNoCleanup", "primary_tested": ["LayerManager.Cleanup.noCleanup()"], "associated_methods": [], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "LinkedList", "Consumer"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the noCleanup method of LayerManager.Cleanup, verifying that it does not perform any cleanup operations."}, {"name": "testOnMaxSize", "primary_tested": ["LayerManager.Cleanup.onMaxSize(int)"], "associated_methods": [], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "LinkedList", "Consumer"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the onMaxSize method of LayerManager.Cleanup, verifying that it correctly limits the size of the Deque."}, {"name": "testOnMaxSizeIllegalValues", "primary_tested": ["LayerManager.Cleanup.onMaxSize(int)"], "external_dependencies": {"modules": ["LayerManager", "IllegalArgumentException"]}, "category": "unit", "description": "Tests the onMaxSize method of LayerManager.Cleanup for invalid arguments, expecting IllegalArgumentException."}, {"name": "testRemoveEmptyTarget", "primary_tested": ["LayerManager.Cleanup.removeEmptyTarget()"], "associated_methods": ["BloomFilter.merge(Hasher)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "LinkedList", "Consumer", "IndexExtractor"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the removeEmptyTarget method of LayerManager.Cleanup, verifying that it correctly removes empty BloomFilters from the Deque."}, {"name": "testTarget", "primary_tested": ["LayerManager.getTarget()"], "associated_methods": ["LayerManager.Builder.setSupplier(Supplier<BloomFilter>)", "LayerManager.Builder.setExtendCheck(Predicate<LayerManager<BloomFilter>>)", "LayerManager.Builder.setCleanup(Consumer<Deque<BloomFilter>>)"], "external_dependencies": {"modules": ["LayerManager", "BloomFilter", "SimpleBloomFilter", "Predicate", "Consumer"], "class_members": [{"name": "shape", "type": "variable"}]}, "category": "unit", "description": "Tests the getTarget method of LayerManager, verifying that it correctly triggers the extendCheck and cleanup operations."}]}