[{"strategy": "retry", "code": "\npackage org.openapitools.openapidiff.core.utils;\n\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mockito;\nimport org.openapitools.openapidiff.core.model.ChangedOpenApi;\nimport org.openapitools.openapidiff.core.output.Render;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.nio.file.Paths;\n\nimport static org.mockito.Mockito.*;\n\nclass FileUtils_writeToFileTest {\n\n    @Test\n    void testWriteToFile_Success() throws IOException {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = \"testFile.txt\";\n\n        FileOutputStream fileOutputStream = mock(FileOutputStream.class);\n        OutputStreamWriter outputStreamWriter = mock(OutputStreamWriter.class);\n\n        try (FileOutputStream fos = new FileOutputStream(Paths.get(fileName).toFile());\n             OutputStreamWriter osw = new OutputStreamWriter(fos)) {\n            when(render.render(diff, osw)).thenReturn(null);\n\n            // When\n            FileUtils.writeToFile(render, diff, fileName);\n\n            // Then\n            verify(render).render(diff, osw);\n        }\n    }\n\n    @Test\n    void testWriteToFile_FileNameNullOrEmpty() {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = null;\n\n        // When\n        FileUtils.writeToFile(render, diff, fileName);\n\n        // Then\n        // No exception should be thrown, and the method should return early\n    }\n\n    @Test\n    void testWriteToFile_IOException() throws IOException {\n        // Given\n        Render render = mock(Render.class);\n        ChangedOpenApi diff = mock(ChangedOpenApi.class);\n        String fileName = \"testFile.txt\";\n\n        FileOutputStream fileOutputStream = mock(FileOutputStream.class);\n        OutputStreamWriter outputStreamWriter = mock(OutputStreamWriter.class);\n\n        try (FileOutputStream fos = new FileOutputStream(Paths.get(fileName).toFile());\n             OutputStreamWriter osw = new OutputStreamWriter(fos)) {\n            doThrow(new IOException(\"Test Exception\")).when(fos).close();\n\n            // When\n            FileUtils.writeToFile(render, diff, fileName);\n\n            // Then\n            // Exception should be logged and handled\n        }\n    }\n}\n"}]