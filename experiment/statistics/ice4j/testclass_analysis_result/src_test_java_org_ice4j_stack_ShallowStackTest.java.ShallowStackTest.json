{"file_path": "src/test/java/org/ice4j/stack/ShallowStackTest.java", "testclass_name": "ShallowStackTest", "dependencies": [" package org.ice4j.stack;", "import java.net.*;", "import java.util.concurrent.*;", "import java.util.logging.*;", "import static org.junit.jupiter.api.Assertions.*;", "import org.ice4j.*;", "import org.ice4j.message.*;", "import org.ice4j.socket.*;", "import org.jitsi.config.*;", "import org.junit.jupiter.api.*;"], "name": "ShallowStackTest", "description": "Unit tests for the ShallowStack functionality, including sending and receiving STUN requests and responses.", "class_members": {"variables": [{"name": "logger", "type": "static final Logger"}, {"name": "stunStack", "type": "StunStack"}, {"name": "msgFixture", "type": "MsgFixture"}, {"name": "dummyServerAddress", "type": "TransportAddress"}, {"name": "localAddress", "type": "TransportAddress"}, {"name": "dgramCollector", "type": "final DatagramCollector"}, {"name": "localSock", "type": "IceSocketWrapper"}, {"name": "dummyServerSocket", "type": "DatagramSocket"}], "methods": [{"name": "setUp", "signature": "void setUp() throws Exception"}, {"name": "tearDown", "signature": "void tearDown() throws Exception"}], "nested_classes": [{"name": "SimpleResponseCollector", "description": "A utility class for asynchronously collecting responses."}, {"name": "SimpleRequestCollector", "description": "A utility class for asynchronously collecting requests."}]}, "fixtures": ["setupConfig", "resetConfig", "setUp", "tearDown"], "test_cases": [{"name": "testSendRequest", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "associated_methods": ["DatagramCollector.startListening(DatagramSocket)", "DatagramCollector.waitForPacket(int)", "DatagramCollector.collectPacket()"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "DatagramCollector", "Request", "SimpleResponseCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a binding request using the stack to a bare socket and verifies its reception and content."}, {"name": "testReceiveRequest", "primary_tested": ["StunStack.addRequestListener(RequestListener)"], "associated_methods": ["SimpleRequestCollector.waitForRequest()"], "external_dependencies": {"modules": ["StunStack", "DatagramSocket", "SimpleRequestCollector", "Request"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "msgFixture", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests receiving a binding request through a datagram socket and verifies that the stack processes it correctly."}, {"name": "testSendResponse", "primary_tested": ["StunStack.sendResponse(byte[],Response,TransportAddress,TransportAddress)"], "associated_methods": ["DatagramCollector.startListening(DatagramSocket)", "DatagramCollector.waitForPacket()", "DatagramCollector.collectPacket()"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "DatagramCollector", "Response", "SimpleRequestCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}, {"name": "msgFixture", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests sending a binding response using the stack after receiving a request and verifies its reception and content."}, {"name": "testReceiveResponse", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "associated_methods": ["SimpleResponseCollector.waitForResponse()"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "SimpleResponseCollector", "Response"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "msgFixture", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests receiving a binding response after sending a request and verifies its content."}, {"name": "testRetransmissionOriginalWait", "primary_tested": ["StunStack.sendRequest(Request,TransportAddress,TransportAddress,ResponseCollector)"], "associated_methods": ["DatagramCollector.startListening(DatagramSocket)", "DatagramCollector.waitForPacket(int)", "DatagramCollector.collectPacket()"], "external_dependencies": {"modules": ["StunStack", "MessageFactory", "DatagramCollector", "Request", "SimpleResponseCollector"], "class_members": [{"name": "stunStack", "type": "variable"}, {"name": "dummyServerAddress", "type": "variable"}, {"name": "localAddress", "type": "variable"}, {"name": "dgramCollector", "type": "variable"}, {"name": "dummyServerSocket", "type": "variable"}]}, "category": "unit", "fixtures_used": ["setUp"], "description": "Tests the retransmission mechanism by setting a custom retransmission wait time and verifying it."}]}