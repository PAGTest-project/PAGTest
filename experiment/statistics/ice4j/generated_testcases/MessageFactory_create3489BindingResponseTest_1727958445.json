[{"strategy": "retry", "code": "\npackage org.ice4j.message;\n\nimport org.junit.jupiter.api.Test;\nimport org.ice4j.TransportAddress;\nimport org.ice4j.attribute.Attribute;\nimport org.ice4j.attribute.AttributeFactory;\nimport org.ice4j.attribute.ChangedAddressAttribute;\nimport org.ice4j.attribute.MappedAddressAttribute;\nimport org.ice4j.attribute.SourceAddressAttribute;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\npublic class MessageFactory_create3489BindingResponseTest {\n\n    @Test\n    public void testCreate3489BindingResponse_AllAddresses() {\n        // Given\n        TransportAddress mappedAddress = new TransportAddress(\"192.168.1.1\", 12345);\n        TransportAddress sourceAddress = new TransportAddress(\"192.168.1.2\", 12346);\n        TransportAddress changedAddress = new TransportAddress(\"192.168.1.3\", 12347);\n\n        // When\n        Response response = MessageFactory.create3489BindingResponse(mappedAddress, sourceAddress, changedAddress);\n\n        // Then\n        assertNotNull(response);\n        assertEquals(Message.BINDING_SUCCESS_RESPONSE, response.getMessageType());\n\n        MappedAddressAttribute mappedAddressAttribute = (MappedAddressAttribute) response.getAttribute(Attribute.Type.MAPPED_ADDRESS);\n        assertNotNull(mappedAddressAttribute);\n        assertEquals(mappedAddress, mappedAddressAttribute.getAddress());\n\n        SourceAddressAttribute sourceAddressAttribute = (SourceAddressAttribute) response.getAttribute(Attribute.Type.SOURCE_ADDRESS);\n        assertNotNull(sourceAddressAttribute);\n        assertEquals(sourceAddress, sourceAddressAttribute.getAddress());\n\n        ChangedAddressAttribute changedAddressAttribute = (ChangedAddressAttribute) response.getAttribute(Attribute.Type.CHANGED_ADDRESS);\n        assertNotNull(changedAddressAttribute);\n        assertEquals(changedAddress, changedAddressAttribute.getAddress());\n    }\n\n    @Test\n    public void testCreate3489BindingResponse_NoSourceAndChangedAddresses() {\n        // Given\n        TransportAddress mappedAddress = new TransportAddress(\"192.168.1.1\", 12345);\n        TransportAddress sourceAddress = null;\n        TransportAddress changedAddress = null;\n\n        // When\n        Response response = MessageFactory.create3489BindingResponse(mappedAddress, sourceAddress, changedAddress);\n\n        // Then\n        assertNotNull(response);\n        assertEquals(Message.BINDING_SUCCESS_RESPONSE, response.getMessageType());\n\n        MappedAddressAttribute mappedAddressAttribute = (MappedAddressAttribute) response.getAttribute(Attribute.Type.MAPPED_ADDRESS);\n        assertNotNull(mappedAddressAttribute);\n        assertEquals(mappedAddress, mappedAddressAttribute.getAddress());\n\n        SourceAddressAttribute sourceAddressAttribute = (SourceAddressAttribute) response.getAttribute(Attribute.Type.SOURCE_ADDRESS);\n        assertEquals(null, sourceAddressAttribute);\n\n        ChangedAddressAttribute changedAddressAttribute = (ChangedAddressAttribute) response.getAttribute(Attribute.Type.CHANGED_ADDRESS);\n        assertEquals(null, changedAddressAttribute);\n    }\n}\n"}]