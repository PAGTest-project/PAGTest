[{"strategy": "retry", "code": "\npackage com.github.davidmoten.rtree.internal.operators;\n\nimport com.github.davidmoten.rtree.internal.util.BoundedPriorityQueue;\nimport org.junit.Test;\nimport rx.Subscriber;\n\nimport java.util.Comparator;\nimport java.util.List;\n\nimport static org.mockito.Mockito.*;\n\npublic class OperatorBoundedPriorityQueue_callTest {\n\n    @Test\n    public void testCall() {\n        // Given\n        int maximumSize = 5;\n        Comparator<Integer> comparator = Comparator.naturalOrder();\n        OperatorBoundedPriorityQueue<Integer> operator = new OperatorBoundedPriorityQueue<>(maximumSize, comparator);\n        Subscriber<Integer> child = mock(Subscriber.class);\n        BoundedPriorityQueue<Integer> q = mock(BoundedPriorityQueue.class);\n        when(q.asOrderedList()).thenReturn(List.of(1, 2, 3));\n\n        // When\n        Subscriber<? super Integer> result = operator.call(child);\n        result.onNext(1);\n        result.onNext(2);\n        result.onNext(3);\n        result.onCompleted();\n\n        // Then\n        verify(child, times(3)).onNext(anyInt());\n        verify(child).onCompleted();\n    }\n\n    @Test\n    public void testCallWithError() {\n        // Given\n        int maximumSize = 5;\n        Comparator<Integer> comparator = Comparator.naturalOrder();\n        OperatorBoundedPriorityQueue<Integer> operator = new OperatorBoundedPriorityQueue<>(maximumSize, comparator);\n        Subscriber<Integer> child = mock(Subscriber.class);\n\n        // When\n        Subscriber<? super Integer> result = operator.call(child);\n        result.onError(new RuntimeException(\"Test error\"));\n\n        // Then\n        verify(child).onError(any(RuntimeException.class));\n    }\n}\n"}]