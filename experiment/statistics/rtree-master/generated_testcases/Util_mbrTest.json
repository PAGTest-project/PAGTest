[{"strategy": "retry", "code": "\npackage com.github.davidmoten.rtree.internal;\n\nimport com.github.davidmoten.rtree.geometry.Geometries;\nimport com.github.davidmoten.rtree.geometry.HasGeometry;\nimport com.github.davidmoten.rtree.geometry.Rectangle;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.Collection;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\npublic class Util_mbrTest {\n\n    @Test\n    public void testMbrWithSingleItem() {\n        HasGeometry item = mock(HasGeometry.class);\n        Rectangle rect = mock(Rectangle.class);\n        when(item.geometry()).thenReturn(rect);\n        when(rect.mbr()).thenReturn(rect);\n        when(rect.x1()).thenReturn(1.0);\n        when(rect.y1()).thenReturn(2.0);\n        when(rect.x2()).thenReturn(3.0);\n        when(rect.y2()).thenReturn(4.0);\n        when(rect.isDoublePrecision()).thenReturn(false);\n\n        Collection<? extends HasGeometry> items = Arrays.asList(item);\n        Rectangle result = Util.mbr(items);\n\n        assertEquals(Geometries.rectangle(1.0f, 2.0f, 3.0f, 4.0f), result);\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void testMbrWithEmptyCollection() {\n        Collection<? extends HasGeometry> items = Arrays.asList();\n        Util.mbr(items);\n    }\n\n    @Test\n    public void testMbrWithDoublePrecision() {\n        HasGeometry item1 = mock(HasGeometry.class);\n        Rectangle rect1 = mock(Rectangle.class);\n        when(item1.geometry()).thenReturn(rect1);\n        when(rect1.mbr()).thenReturn(rect1);\n        when(rect1.x1()).thenReturn(1.0);\n        when(rect1.y1()).thenReturn(2.0);\n        when(rect1.x2()).thenReturn(3.0);\n        when(rect1.y2()).thenReturn(4.0);\n        when(rect1.isDoublePrecision()).thenReturn(false);\n\n        HasGeometry item2 = mock(HasGeometry.class);\n        Rectangle rect2 = mock(Rectangle.class);\n        when(item2.geometry()).thenReturn(rect2);\n        when(rect2.mbr()).thenReturn(rect2);\n        when(rect2.x1()).thenReturn(0.0);\n        when(rect2.y1()).thenReturn(1.0);\n        when(rect2.x2()).thenReturn(2.0);\n        when(rect2.y2()).thenReturn(3.0);\n        when(rect2.isDoublePrecision()).thenReturn(true);\n\n        Collection<? extends HasGeometry> items = Arrays.asList(item1, item2);\n        Rectangle result = Util.mbr(items);\n\n        assertEquals(Geometries.rectangle(0.0, 1.0, 3.0, 4.0), result);\n    }\n}\n"}]